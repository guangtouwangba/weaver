FROM grafana/loki:latest

# Copy custom configuration
COPY loki-config.yaml /etc/loki/local-config.yaml

# Expose Loki port
EXPOSE 3100

# Volume for data persistence (directories will be created automatically)
VOLUME ["/loki"]

# Run Loki with custom config
ENTRYPOINT ["/usr/bin/loki"]
CMD ["-config.file=/etc/loki/local-config.yaml"]

