# RAG API Production Environment Configuration
# Copy this file to .env.production and customize the values

# =============================================================================
# Application Configuration
# =============================================================================
APP_VERSION=0.1.0
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# =============================================================================
# Server Configuration
# =============================================================================
API_PORT=8000
API_WORKERS=4
API_WORKER_TIMEOUT=120

# =============================================================================
# Database Configuration (PostgreSQL)
# =============================================================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=rag_db
POSTGRES_USER=rag_user
POSTGRES_PASSWORD=your_secure_postgres_password_here

# =============================================================================
# Cache Configuration (Redis)
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here

# =============================================================================
# Object Storage Configuration (MinIO)
# =============================================================================
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=your_secure_minio_password_here
MINIO_BUCKET_NAME=rag-documents
MINIO_BROWSER_REDIRECT_URL=http://your-domain.com:9001

# =============================================================================
# Vector Database Configuration (Weaviate)
# =============================================================================
WEAVIATE_PORT=8080
WEAVIATE_API_KEY=

# =============================================================================
# AI/ML API Keys
# =============================================================================
OPENAI_API_KEY=your_openai_api_key_here
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# =============================================================================
# Security Configuration
# =============================================================================
SECRET_KEY=your_very_secure_secret_key_minimum_32_characters_long
ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# Monitoring Configuration
# =============================================================================
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_TIME=15d
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=your_secure_grafana_password_here
GRAFANA_INSTALL_PLUGINS=

# =============================================================================
# Reverse Proxy Configuration (Optional)
# =============================================================================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# =============================================================================
# Feature Flags
# =============================================================================
RUN_MIGRATIONS=true
ENABLE_CORS=true
ENABLE_DOCS=false

# =============================================================================
# Docker Build Configuration
# =============================================================================
BUILD_DATE=$(date -u +'%Y-%m-%dT%H:%M:%SZ')
VCS_REF=$(git rev-parse --short HEAD)

# =============================================================================
# Domain and SSL Configuration
# =============================================================================
DOMAIN_NAME=your-domain.com
SSL_EMAIL=your-email@domain.com

# =============================================================================
# Backup Configuration
# =============================================================================
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_DEFAULT_REGION=us-west-2

# =============================================================================
# Alerting Configuration
# =============================================================================
ALERT_EMAIL=alerts@your-domain.com
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook

# =============================================================================
# Performance Tuning
# =============================================================================
POSTGRES_MAX_CONNECTIONS=200
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB

REDIS_MAXMEMORY=1gb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_FORMAT=json
LOG_ROTATION_SIZE=100MB
LOG_RETENTION_DAYS=30