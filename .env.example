# ============================================================================
# Research Agent RAG - Environment Configuration
# ============================================================================
# 
# 复制此文件为 .env 并填入你的实际配置
# cp env.example .env
#
# ============================================================================

# ----------------------------------------------------------------------------
# General Application Settings
# ----------------------------------------------------------------------------

# 应用环境：development, staging, production
APP_ENV=development

# 向量搜索返回的 top-k 结果数量
VECTOR_TOP_K=4


# ----------------------------------------------------------------------------
# Embedding Configuration
# ----------------------------------------------------------------------------

# Embedding 提供商：fake, openai, openrouter
# - fake: 用于开发测试，生成随机向量（不需要 API key）
# - openai: 使用 OpenAI 的 embedding 模型
# - openrouter: 使用 OpenRouter 访问多种 embedding 模型
EMBEDDING_PROVIDER=fake

# Embedding 模型名称
# OpenAI 模型示例:
#   - text-embedding-3-small (1536 维)
#   - text-embedding-3-large (3072 维)
#   - text-embedding-ada-002 (1536 维)
# 
# OpenRouter 模型示例:
#   - openai/text-embedding-3-small (1536 维)
#   - google/gemini-embedding-001 (768 维)
#   - cohere/embed-english-v3.0 (1024 维)
#   - voyage/voyage-2 (1024 维)
EMBEDDING_MODEL=text-embedding-3-small

# Embedding 向量维度（可选，某些模型支持自定义）
# - 不设置则使用模型默认维度
# - Google Gemini: 768
# - OpenAI Small: 1536
# - OpenAI Large: 3072
# - Cohere: 1024
EMBEDDING_DIMENSIONS=

# Fake Embedding 大小（仅在 EMBEDDING_PROVIDER=fake 时使用）
FAKE_EMBEDDING_SIZE=768


# ----------------------------------------------------------------------------
# OpenAI Configuration
# ----------------------------------------------------------------------------
# 使用 OpenAI 官方 API 或兼容的服务（如 Azure OpenAI）

# OpenAI API Key
# 获取地址: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# OpenAI API Base URL（可选）
# 默认: https://api.openai.com/v1
# Azure OpenAI 示例: https://your-resource.openai.azure.com/
# 本地代理示例: http://localhost:8080/v1
OPENAI_BASE_URL=


# ----------------------------------------------------------------------------
# OpenRouter Configuration
# ----------------------------------------------------------------------------
# 使用 OpenRouter 访问多种 AI 模型（Google, OpenAI, Cohere 等）

# OpenRouter API Key
# 获取地址: https://openrouter.ai/keys
OPENROUTER_API_KEY=

# OpenRouter 网站 URL（可选）
# 用于在 OpenRouter 排名中展示你的应用
# 留空则不发送此信息
OPENROUTER_SITE_URL=

# OpenRouter 应用名称（可选）
# 用于在 OpenRouter 排名中展示你的应用名称
# 留空则不发送此信息
OPENROUTER_SITE_NAME=


# ============================================================================
# 配置示例
# ============================================================================

# ----------------------------------------------------------------------------
# 示例 1: 开发环境（使用 Fake Embeddings）
# ----------------------------------------------------------------------------
# APP_ENV=development
# EMBEDDING_PROVIDER=fake
# FAKE_EMBEDDING_SIZE=768
# VECTOR_TOP_K=4

# ----------------------------------------------------------------------------
# 示例 2: 使用 OpenAI Embeddings
# ----------------------------------------------------------------------------
# APP_ENV=production
# EMBEDDING_PROVIDER=openai
# EMBEDDING_MODEL=text-embedding-3-small
# EMBEDDING_DIMENSIONS=1536
# OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# VECTOR_TOP_K=4

# ----------------------------------------------------------------------------
# 示例 3: 使用 OpenRouter + Google Gemini
# ----------------------------------------------------------------------------
# APP_ENV=production
# EMBEDDING_PROVIDER=openrouter
# EMBEDDING_MODEL=google/gemini-embedding-001
# EMBEDDING_DIMENSIONS=768
# OPENROUTER_API_KEY=sk-or-v1-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# OPENROUTER_SITE_URL=https://yourapp.com
# OPENROUTER_SITE_NAME=Your App Name
# VECTOR_TOP_K=4

# ----------------------------------------------------------------------------
# 示例 4: 使用 OpenRouter + OpenAI（通过 OpenRouter）
# ----------------------------------------------------------------------------
# APP_ENV=production
# EMBEDDING_PROVIDER=openrouter
# EMBEDDING_MODEL=openai/text-embedding-3-small
# EMBEDDING_DIMENSIONS=1536
# OPENROUTER_API_KEY=sk-or-v1-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# VECTOR_TOP_K=4

# ----------------------------------------------------------------------------
# 示例 5: 使用 Azure OpenAI
# ----------------------------------------------------------------------------
# APP_ENV=production
# EMBEDDING_PROVIDER=openai
# EMBEDDING_MODEL=text-embedding-ada-002
# EMBEDDING_DIMENSIONS=1536
# OPENAI_API_KEY=your-azure-api-key
# OPENAI_BASE_URL=https://your-resource.openai.azure.com/
# VECTOR_TOP_K=4


# ============================================================================
# 说明和最佳实践
# ============================================================================

# 1. 安全性
#    - 永远不要将 .env 文件提交到 Git 仓库
#    - .env 文件已在 .gitignore 中排除
#    - 定期更新 API keys

# 2. 环境区分
#    - 开发环境: 使用 fake provider（免费、快速）
#    - 测试环境: 使用小型模型（如 text-embedding-3-small）
#    - 生产环境: 根据需求选择合适的模型

# 3. 模型选择
#    - 多语言支持: google/gemini-embedding-001
#    - 英文为主: openai/text-embedding-3-small
#    - 高精度需求: openai/text-embedding-3-large
#    - 成本优先: cohere/embed-english-v3.0

# 4. 维度设置
#    - 较小维度 (768): 更快的搜索，较低的存储成本
#    - 较大维度 (1536-3072): 更高的精度，较好的效果
#    - 建议根据数据量和性能需求权衡

# 5. OpenRouter 优势
#    - 统一 API 接口访问多种模型
#    - 无需单独申请每个提供商的 API key
#    - 自动负载均衡和故障转移
#    - 查看使用统计: https://openrouter.ai/activity

# 6. 成本控制
#    - 开发测试: 使用 fake provider
#    - 小规模应用: 使用较小的模型（768-1024 维）
#    - 大规模应用: 考虑批量处理和缓存策略
#    - 监控 API 使用量，设置预算提醒

# 更多信息:
# - OpenAI API: https://platform.openai.com/docs/guides/embeddings
# - OpenRouter: https://openrouter.ai/docs
# - 项目文档: ./OPENROUTER_SETUP.md

