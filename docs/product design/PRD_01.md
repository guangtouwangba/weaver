# PRD: 动态知识图谱可视化功能

## 📋 文档信息

| 项目 | 内容 |
|------|------|
| **产品名称** | 动态知识图谱可视化 (Dynamic Knowledge Graph Visualization) |
| **版本** | v1.0 |
| **作者** | AI Product Manager |
| **日期** | 2025-11-11 |
| **状态** | Draft - 待 Review |
| **优先级** | P0 (High) |

---

## 🎯 一、产品定位

### 1.1 核心价值主张

为用户提供**直观、实时、可交互的知识结构可视化**，让抽象的文本信息转化为立体的知识网络，帮助用户：

1. **快速理解** - 一眼看清主题的知识结构和概念关系
2. **发现洞察** - 发现隐藏的知识关联和研究盲点
3. **非线性探索** - 打破传统线性对话的限制，以网状方式学习

### 1.2 产品定位

- **不是什么**: 
  - ❌ 不是简单的脑图工具（MindMap）
  - ❌ 不是静态的概念图（Concept Map）
  - ❌ 不是纯手动的绘图工具
  
- **是什么**:
  - ✅ AI 驱动的自动知识提取和关系发现
  - ✅ 实时更新的"活"图谱（随对话和文档动态生长）
  - ✅ 智能引导的探索式学习工具

### 1.3 成功指标 (KPI)

| 指标类型 | 指标名称 | 目标值 | 衡量周期 |
|---------|---------|--------|---------|
| **使用率** | 功能激活率 | 60%+ | 周 |
| **参与度** | 平均探索节点数 | 5+ 个/会话 | 日 |
| **深度** | 图谱平均节点数 | 20+ 个/主题 | 周 |
| **洞察** | 用户发现新关联率 | 30%+ | 月 |
| **留存** | 使用图谱用户次日留存 | +20% vs 未使用 | 周 |
| **满意度** | NPS 评分 | 50+ | 季度 |

---

## 👥 二、用户研究

### 2.1 目标用户画像

#### 用户 A: 研究型学习者 - 张博士

```
基本信息:
- 角色：博士研究生 / 科研工作者
- 年龄：26-35 岁
- 技能：擅长深度思考，有文献阅读习惯

痛点:
- 进入新研究领域时，文献太多不知从何开始
- 概念之间的关系混乱，容易迷失
- 需要快速建立领域的全局认知

需求:
- 一眼看清领域的核心概念和关系图谱
- 快速定位自己的知识盲点
- 追踪概念的演化和发展历程

使用场景:
"我在开始一个新的研究方向时，上传 10 篇核心论文，
系统自动生成知识图谱，让我快速了解这个领域的全貌。"
```

#### 用户 B: 跨学科探索者 - 李经理

```
基本信息:
- 角色：产品经理 / 创业者
- 年龄：28-40 岁
- 技能：快速学习能力强，需要跨领域知识

痛点:
- 技术文档晦涩难懂
- 不知道哪些概念是相关的，学习路径不清晰
- 需要在有限时间内快速掌握新领域

需求:
- 看到技术概念的全景图
- 从熟悉的概念出发，逐步探索陌生领域
- AI 推荐最优学习路径

使用场景:
"我需要快速了解 AI 技术，从我熟悉的'数据分析'节点出发，
系统引导我逐步探索相关的机器学习、深度学习概念。"
```

#### 用户 C: 深度思考者 - 王老师

```
基本信息:
- 角色：教师 / 知识工作者
- 年龄：30-50 岁
- 技能：喜欢思考知识的内在联系，注重体系化

痛点:
- 传统的线性笔记限制了思维的发散
- 想看到不同知识点之间的隐藏联系
- 需要整理和可视化自己的知识体系

需求:
- 以网状结构组织和思考知识
- 发现不同领域概念之间的跨界联系
- 导出图谱用于教学或分享

使用场景:
"我在准备一门跨学科课程，需要展示不同学科概念之间的联系，
知识图谱帮我可视化这些复杂的关系。"
```

### 2.2 核心使用场景

#### 场景 1: 新主题快速上手 🚀

```
用户旅程:
1. 用户创建新主题 "深度学习入门"
2. 上传 3-5 篇入门文献 PDF
3. [系统自动处理] 提取关键概念，构建初始图谱
4. 用户看到核心概念：
   - 神经网络（中心节点，最大）
   - 反向传播（连接到神经网络）
   - 梯度下降（连接到反向传播）
   - 损失函数、激活函数等...
5. 用户点击"激活函数"节点
6. [系统响应] 展开显示 ReLU、Sigmoid、Tanh 等子概念
7. 用户开始深入学习

价值体现:
- 节省梳理概念的时间（从 2 小时 → 5 分钟）
- 建立结构化认知
- 明确学习路径
```

#### 场景 2: 对话中实时构建 💬

```
用户旅程:
1. 用户问："什么是 Transformer？"
2. AI 回答并提取关键概念
3. [系统实时] 图谱新增节点：
   - Transformer（新增）
   - Attention（新增，连接到 Transformer）
   - Self-Attention（新增，连接到 Attention）
4. 用户看到图谱更新动画，感觉"知识在生长"
5. 用户点击 "Attention" 节点
6. [系统响应] 自动追问："想了解 Attention 的计算原理吗？"
7. 用户确认，对话继续，图谱继续扩展

价值体现:
- 对话不再是"一问一答"消失式
- 知识积累可视化，有成就感
- 随时回顾之前的概念，不会遗忘
```

#### 场景 3: 知识复习和整理 📚

```
用户旅程:
1. 用户学习一周后回到主题
2. 点击"知识图谱"标签
3. 看到完整的知识网络（已有 50+ 节点）
4. [系统提示] "你在'优化算法'区域的知识较少（只有 2 个节点）"
5. 用户点击该区域，系统推荐相关内容
6. 用户可以导出图谱作为学习笔记
7. 分享给同学/同事

价值体现:
- 可视化学习进度
- 发现知识盲点
- 方便复习和回顾
```

#### 场景 4: 跨主题知识关联 🔗

```
用户旅程:
1. 用户有两个主题："机器学习" 和 "统计学"
2. 系统发现两个图谱有重叠概念（如"贝叶斯定理"）
3. [系统建议] "发现跨主题关联，要合并查看吗？"
4. 用户确认，看到两个图谱的桥接节点
5. 产生新的洞察："原来 ML 的很多算法都基于统计学原理"

价值体现:
- 发现跨领域联系
- 建立更高层次的认知
```

---

## 🎨 三、功能设计

### 3.1 功能架构图

```
知识图谱可视化
│
├── 📊 自动构建层
│   ├── 从文档提取（PDF/Word/Markdown）
│   ├── 从对话提取（实时增量）
│   ├── 从用户笔记提取
│   └── 智能去重和合并
│
├── 🎨 可视化层
│   ├── 力导向图渲染
│   ├── 分层布局
│   ├── 时间轴布局
│   └── 聚类布局
│
├── 🖱️ 交互层
│   ├── 基础交互（拖拽、缩放、点击）
│   ├── 节点展开/折叠
│   ├── 路径探索
│   ├── 智能搜索
│   └── 筛选和聚焦
│
├── 🤖 智能层
│   ├── AI 探索建议
│   ├── 知识盲点提示
│   ├── 学习路径推荐
│   └── 概念解释生成
│
└── 🔧 管理层
    ├── 手动编辑
    ├── 导出分享
    ├── 版本历史
    └── 协作功能
```

### 3.2 核心功能详述

#### 功能 1: 自动知识提取与图谱构建 🤖

**功能描述**

系统自动从多种来源提取关键概念和关系，构建知识图谱。

**输入源**
- 📄 上传的文档（PDF、Word、Markdown、网页）
- 💬 对话历史（用户提问 + AI 回答）
- 📝 用户手动添加的笔记
- 🔗 外部链接的内容

**提取逻辑**

1. **概念识别**
   - 识别核心概念、技术名词、理论、人物
   - 评估概念的重要性（出现频率、上下文重要性）
   - 分类：技术、理论、应用、工具、人物等

2. **关系识别**
   - IS_A 关系：X 是一种 Y（继承）
   - PART_OF 关系：X 是 Y 的组成部分
   - USES 关系：X 使用 Y
   - RELATED_TO 关系：X 与 Y 相关
   - CAUSES 关系：X 导致 Y
   - COMPARED_WITH 关系：X 与 Y 对比

3. **智能去重**
   - 识别同义词（Transformer = Transform架构）
   - 合并相似概念
   - 保留最具代表性的描述

**视觉呈现**

初次构建时显示动画效果：
- 节点从中心逐个"生长"出来
- 边逐条绘制，展示连接关系
- 配合音效和动画，增强仪式感

**MVP 最小可行版本**
- ✅ 支持从对话提取（最重要，用户体感最强）
- ✅ 支持从 PDF 提取
- ⏳ 手动添加节点和关系（V1.1）
- ⏳ 从网页提取（V1.2）

---

#### 功能 2: 力导向图可视化 🎨

**功能描述**

将知识图谱以美观、直观的方式呈现，节点大小、颜色、位置都有含义。

**视觉设计规范**

**节点设计**

| 属性 | 规则 | 示例 |
|------|------|------|
| **大小** | 根据重要性（20px - 80px）| 核心概念最大 |
| **颜色** | 根据类型分类 | 技术=青色，理论=蓝色，应用=绿色 |
| **形状** | 区分类别 | 圆形=概念，方形=技术，菱形=理论 |
| **透明度** | 反映访问频率 | 常点击的节点更不透明 |
| **边框** | 当前焦点 | 选中节点有高亮边框 |

**配色方案**

```
核心概念：  #FF6B6B (珊瑚红) - 温暖醒目
技术方法：  #4ECDC4 (青绿色) - 理性专业
理论模型：  #A8DADC (浅蓝色) - 抽象深邃
应用场景：  #95E1D3 (薄荷绿) - 实用亲和
人物团队：  #FFE66D (明黄色) - 活力人性
工具框架：  #C7B8EA (薰衣草紫) - 工具属性

背景色：    #F8F9FA (浅灰白) - 干净简洁
网格线：    #E9ECEF (浅灰) - 辅助定位
```

**边（连接线）设计**

| 属性 | 规则 |
|------|------|
| **粗细** | 1px-5px，越粗关系越强 |
| **颜色** | 浅灰为主，hover 时高亮 |
| **样式** | IS_A 实线，PART_OF 虚线，RELATED_TO 点线 |
| **箭头** | 有向关系显示箭头 |
| **标签** | hover 时显示关系类型 |
| **曲线** | 多条边之间用曲线避免重叠 |

**布局算法**

- **默认**: 力导向布局（模拟物理引力）
  - 相关节点相互吸引
  - 所有节点相互排斥
  - 自动达到平衡状态
  
- **可选**: 
  - 分层布局（适合有明确层级的知识）
  - 放射状布局（从中心向外扩散）
  - 时间轴布局（按时间顺序排列）

**性能考虑**

- 节点数 < 50: 全量渲染
- 节点数 50-200: 虚拟化渲染（只渲染可见区域）
- 节点数 > 200: 聚类显示，点击展开

---

#### 功能 3: 多层次交互系统 🖱️

**功能描述**

提供丰富但不复杂的交互方式，让用户自然地探索知识。

**3.1 基础交互**

| 操作 | 效果 | 设计细节 |
|------|------|---------|
| **拖拽画布** | 平移视图 | 鼠标拖拽空白区域 |
| **滚轮** | 缩放画布 | 以鼠标位置为中心缩放 |
| **拖拽节点** | 移动节点 | 松开后节点固定位置 |
| **Hover 节点** | 预览信息 | 显示节点描述悬浮卡片 |
| **单击节点** | 选中节点 | 打开右侧详情面板 |
| **双击节点** | 展开节点 | 加载并显示该节点的邻居 |
| **右键节点** | 快捷菜单 | 编辑、删除、固定、隐藏等 |

**3.2 高级交互**

**① 节点展开/折叠**

```
场景: 图谱节点太多，需要聚焦某个区域

交互流程:
1. 双击"机器学习"节点
2. 展开显示其子概念：监督学习、无监督学习、强化学习
3. 原来的"机器学习"节点变为父节点（显示为分组）
4. 点击父节点的[-]按钮可折叠回去

视觉效果:
- 展开动画：新节点从父节点"飞"出来
- 折叠动画：子节点"收"回父节点
```

**② 路径查找与高亮**

```
场景: 想知道两个概念之间的联系

交互流程:
1. 点击"路径查找"按钮（工具栏）
2. 依次点击两个节点：A 和 B
3. 系统高亮显示 A 到 B 的最短路径
4. 其他节点和边变淡（透明度 30%）
5. 路径上的节点和边高亮（闪烁动画）

提示信息:
"从【深度学习】到【贝叶斯定理】的路径：
深度学习 → 概率图模型 → 贝叶斯网络 → 贝叶斯定理
共 3 个中间概念"
```

**③ 聚焦模式（Focus Mode）**

```
场景: 专注研究某个概念及其直接关联

交互流程:
1. 选中节点后，点击"聚焦"按钮
2. 画布动画缩放，将该节点移到中心
3. 只显示该节点及其直接邻居（1 度关系）
4. 其他内容淡出或隐藏
5. 顶部显示面包屑："总览 / 机器学习 / 监督学习"

退出:
- 点击面包屑返回上层
- 点击"退出聚焦"按钮
```

**④ 智能搜索与定位**

```
场景: 在复杂图谱中快速找到概念

交互流程:
1. 在顶部搜索框输入"注意力机制"
2. 实时显示匹配结果（下拉列表）
   - Attention Mechanism (精确匹配) ★
   - Self-Attention (部分匹配)
   - Multi-Head Attention (部分匹配)
3. 选择结果后：
   - 画布自动平移和缩放到该节点
   - 节点高亮闪烁 3 次
   - 显示节点详情

高级搜索:
- 支持按类型筛选："type:技术 注意力"
- 支持按重要性："importance:>0.8"
- 支持按时间："added:last-week"
```

**⑤ 时间轴播放（知识演化）**

```
场景: 回顾知识图谱的构建过程

交互流程:
1. 点击底部"时间轴"按钮
2. 显示时间轴滑块（Day 1 → Day 7）
3. 点击"播放"按钮
4. 图谱按时间顺序重新"生长"：
   - 第1天：5 个基础概念出现
   - 第2天：新增 8 个概念和 12 个关系
   - 第3天：...
5. 每个阶段停留 2 秒，配合动画

价值:
- 复习学习历程
- 看到知识的积累过程
- 产生成就感
```

---

#### 功能 4: AI 智能探索引导 🤖

**功能描述**

不只是展示图谱，更要智能引导用户探索和学习。

**4.1 点击节点后的 AI 建议**

```
用户点击"Transformer"节点

AI 生成建议卡片（右侧面板）：

┌─────────────────────────────────┐
│ 🎯 探索建议                      │
├─────────────────────────────────┤
│                                  │
│ 💡 深入了解                      │
│ • Attention 机制的数学原理       │
│ • Multi-Head Attention 的作用   │
│                                  │
│ 🔄 对比学习                      │
│ • Transformer vs RNN/LSTM        │
│ • 为什么 Transformer 更高效？   │
│                                  │
│ 🛠️ 实践应用                      │
│ • BERT、GPT 如何基于 Transformer│
│ • 如何从零实现一个简单版本       │
│                                  │
│ 📚 延伸阅读                      │
│ • "Attention Is All You Need"   │
│ • [链接] 推荐的博客文章          │
│                                  │
│ [💬 我想深入了解 Attention]      │
│ [🔍 对比 Transformer 和 RNN]    │
└─────────────────────────────────┘
```

点击按钮后，系统自动发起对话并更新图谱。

**4.2 知识盲点提示**

```
系统分析图谱结构，发现：

┌─────────────────────────────────┐
│ ⚠️ 发现知识盲点                  │
├─────────────────────────────────┤
│                                  │
│ 你在"优化算法"区域的知识较少      │
│                                  │
│ 当前仅有：                       │
│ • SGD（随机梯度下降）            │
│                                  │
│ 建议补充：                       │
│ • Adam 优化器 ⭐⭐⭐             │
│ • RMSProp                        │
│ • Learning Rate Scheduling       │
│                                  │
│ [📖 开始学习 Adam]               │
│ [⏭️ 稍后提醒]                    │
└─────────────────────────────────┘
```

**4.3 学习路径推荐**

```
基于当前图谱，AI 生成学习路径：

┌─────────────────────────────────┐
│ 🎯 建议的学习路径                 │
├─────────────────────────────────┤
│                                  │
│ 路径 1: 从基础到应用 (推荐) ⭐    │
│ 1. 神经网络基础                  │
│ 2. 反向传播算法                  │
│ 3. 卷积神经网络 (CNN)            │
│ 4. 目标检测应用                  │
│ 预计时间: 4 小时                 │
│                                  │
│ 路径 2: 深入数学原理              │
│ 1. 线性代数基础                  │
│ 2. 梯度下降优化                  │
│ 3. 反向传播推导                  │
│ ...                              │
│                                  │
│ [🚀 开始路径 1]                  │
└─────────────────────────────────┘
```

**4.4 自动概念解释生成**

```
当用户 hover 一个节点时，
如果该节点没有描述信息，
系统自动调用 LLM 生成简短解释：

┌─────────────────────────────────┐
│ Multi-Head Attention             │
├─────────────────────────────────┤
│ 🤖 AI 生成的解释：               │
│                                  │
│ 多头注意力机制将注意力计算        │
│ 分为多个"头"（head），每个头      │
│ 关注不同的特征，最后合并结果。    │
│ 这样可以让模型同时关注多个        │
│ 不同的语义空间。                 │
│                                  │
│ [💬 告诉我更多]  [✏️ 编辑]       │
└─────────────────────────────────┘
```

---

#### 功能 5: 手动编辑与管理 ✏️

**功能描述**

虽然 AI 自动构建，但用户也需要手动调整和完善。

**5.1 手动添加节点**

```
操作: 
- 点击画布空白处的 [+] 按钮
- 或右键菜单 → "添加节点"

弹出表单:
┌─────────────────────────────────┐
│ ➕ 添加新概念                    │
├─────────────────────────────────┤
│ 概念名称: [____________]         │
│ 类型: [下拉: 技术/理论/应用...]  │
│ 描述: [____________]             │
│ 重要性: ⭐⭐⭐☆☆               │
│                                  │
│ [取消]  [确定添加]               │
└─────────────────────────────────┘
```

**5.2 手动连接关系**

```
操作:
- 点击工具栏的"连接"按钮
- 依次点击两个节点
- 选择关系类型

弹出菜单:
┌─────────────────────────────────┐
│ 选择关系类型                     │
├─────────────────────────────────┤
│ ○ 是一种 (IS_A)                  │
│ ○ 是组成部分 (PART_OF)           │
│ ● 使用 (USES)                    │
│ ○ 导致 (CAUSES)                  │
│ ○ 相关 (RELATED_TO)              │
│                                  │
│ [确定]                           │
└─────────────────────────────────┘
```

**5.3 节点编辑与删除**

```
右键节点，弹出菜单:
┌─────────────────────────┐
│ ✏️ 编辑详情              │
│ 📌 固定位置              │
│ 👁️ 暂时隐藏              │
│ 🎨 更改颜色              │
│ ────────────────        │
│ 🗑️ 删除节点              │
└─────────────────────────┘

编辑详情后打开表单（同添加节点）
删除前需确认："确定删除【Transformer】吗？
关联的 5 条边也会被删除。"
```

**5.4 批量操作**

```
- 框选多个节点（按住 Shift + 拖拽矩形）
- 选中后可以：
  - 批量移动
  - 批量删除
  - 批量更改颜色/类型
  - 组合成分组
```

---

#### 功能 6: 导出与分享 📤

**功能描述**

让知识图谱可以走出系统，用于笔记、报告、教学等场景。

**6.1 导出格式**

| 格式 | 用途 | 包含内容 |
|------|------|---------|
| **PNG** | 插入文档、PPT | 静态图片，高清渲染 |
| **SVG** | 设计、印刷 | 矢量图，无损缩放 |
| **PDF** | 报告、论文 | 多页 PDF，包含节点详情 |
| **JSON** | 数据交换 | 完整的图谱数据结构 |
| **Markdown** | 笔记软件 | 文本化的结构描述 |
| **HTML** | 网页嵌入 | 交互式网页版（iframe） |

**6.2 导出设置**

```
┌─────────────────────────────────┐
│ 📤 导出知识图谱                  │
├─────────────────────────────────┤
│ 格式: [PNG ▼]                    │
│                                  │
│ 导出范围:                        │
│ ○ 完整图谱                       │
│ ● 当前视图（推荐）               │
│ ○ 选中节点及其邻居               │
│                                  │
│ 图片尺寸:                        │
│ ○ 标准 (1920x1080)              │
│ ● 高清 (3840x2160)              │
│ ○ 自定义 [____] x [____]        │
│                                  │
│ 附加选项:                        │
│ ☑ 包含节点描述                   │
│ ☑ 显示图例                       │
│ ☐ 添加水印                       │
│                                  │
│ [取消]  [导出]                   │
└─────────────────────────────────┘
```

**6.3 分享链接**

```
功能: 生成只读分享链接

操作流程:
1. 点击"分享"按钮
2. 选择分享范围：
   - 完整图谱（所有人可见）
   - 仅部分节点（隐私保护）
3. 生成链接: https://app.com/graph/abc123
4. 可设置访问密码（可选）
5. 可设置过期时间（可选）

分享页面特点:
- 只读模式（不可编辑）
- 保留所有交互（缩放、点击、搜索）
- 显示"由 XX 分享"水印
- 提供"复制到我的知识库"按钮
```

**6.4 嵌入代码（Embed）**

```html
<!-- 复制以下代码嵌入你的网页 -->
<iframe 
  src="https://app.com/embed/graph/abc123" 
  width="100%" 
  height="600" 
  frameborder="0">
</iframe>
```

用途：嵌入到个人博客、Notion、飞书文档等。

---

### 3.3 界面布局设计

#### 主界面布局（Desktop）

```
┌───────────────────────────────────────────────────────────────┐
│  [≡] 知识图谱: 深度学习入门  │ [🔍 搜索概念...]  [⚙️] [↗️] │
├────────┬──────────────────────────────────────────┬──────────┤
│        │                                          │          │
│ 侧边栏  │            主画布区域                     │ 详情面板  │
│ 200px  │          (知识图谱可视化)                 │  300px   │
│        │                                          │          │
│ 🏠 总览 │      ┌──────────────────────┐           │ 节点详情  │
│ 📊 统计 │      │    [○] [○]─[○]      │           │         │
│ 🎨 视图 │      │     │      │  │      │           │ 名称:    │
│ 🔍 搜索 │      │    [○]    [○] │      │           │ Transform│
│ 🎯 筛选 │      │     └─[○]─[○]─┘      │           │         │
│ ⏱️ 时间 │      │                      │           │ 类型:    │
│ 🤖 建议 │      │   可拖拽的力导向图    │           │ 技术     │
│        │      │                      │           │         │
│        │      └──────────────────────┘           │ 描述:    │
│        │                                          │ 一种...  │
│        │                                          │         │
│        │                                          │ 💬 探索  │
│        │                                          │ 建议     │
│        │                                          │ • 深入   │
│        │                                          │   了解   │
│        │                                          │ • 对比   │
├────────┴──────────────────────────────────────────┴──────────┤
│ 底部工具栏:  [+ 节点] [🔗 连接] [▶️ 播放] [🔄 布局] [📸 导出] │
└───────────────────────────────────────────────────────────────┘
```

#### 侧边栏功能详述

**🏠 总览标签**
- 显示图谱概要统计
- 节点数、边数、覆盖主题
- 最近更新时间

**📊 统计标签**
```
知识图谱统计

总计:
• 概念节点: 28 个
• 关系连接: 45 条
• 覆盖领域: 3 个

类型分布:
技术 ████████ 15
理论 ████ 8
应用 ███ 5

重要节点 Top 5:
1. 神经网络 ⭐⭐⭐⭐⭐
2. Transformer ⭐⭐⭐⭐
3. Attention ⭐⭐⭐
...

学习进度:
已掌握: 12 个 ████░░░░ 43%
待学习: 16 个
```

**🎨 视图标签**
```
布局方式:
○ 力导向（推荐）
○ 分层布局
○ 放射状
○ 时间轴

配色主题:
● 默认
○ 深色模式
○ 学术风格
○ 极简黑白

显示选项:
☑ 显示边标签
☑ 显示节点描述
☐ 显示网格
☐ 显示迷你地图
```

**🤖 AI 建议标签**
```
💡 智能建议

知识盲点:
你在"优化算法"区域较少
[补充学习 →]

推荐路径:
从基础到应用 (4小时)
[开始学习 →]

有趣发现:
你经常在"Transformer"附近
探索，说明你对此很感兴趣！
```

#### 移动端适配

```
┌─────────────────────────┐
│ ≡  深度学习  🔍  ⋮      │ ← 顶部栏
├─────────────────────────┤
│                         │
│    [图谱可视化区域]      │
│    （全屏显示）          │
│                         │
│    手势操作：            │
│    • 双指缩放            │
│    • 单指拖拽            │
│    • 点击节点            │
│                         │
├─────────────────────────┤
│ [展开详情] [添加] [分享] │ ← 底部工具栏
└─────────────────────────┘

点击节点后，底部弹出抽屉:
┌─────────────────────────┐
│ Transformer        [×]  │
│ ─────────────────────── │
│ 类型: 技术              │
│ 描述: 一种基于...       │
│                         │
│ [💬 深入了解]           │
│ [🔗 查看关系]           │
└─────────────────────────┘
```

---

## 📅 四、开发路线图

### Phase 1: MVP (4 周) - 核心价值验证

**目标**: 证明知识图谱能提升用户学习体验

**功能范围**:
- ✅ 从对话自动提取概念和关系
- ✅ 基础力导向图可视化
- ✅ 基础交互（缩放、拖拽、点击查看详情）
- ✅ 手动添加节点和关系
- ✅ 导出为 PNG

**成功标准**:
- 60%+ 用户尝试使用知识图谱功能
- 80%+ 用户认为图谱"有帮助"或"非常有帮助"
- 平均每个用户点击 3+ 个节点探索

**技术栈建议**:
- 前端: React + D3.js
- 后端: FastAPI + PostgreSQL (JSONB)
- AI: OpenAI API (GPT-4 for 提取)

---

### Phase 2: 增强体验 (6 周) - 智能化

**目标**: 从"展示"到"引导"，AI 主动帮助用户探索

**新增功能**:
- ✅ AI 探索建议（点击节点后推荐下一步）
- ✅ 知识盲点提示
- ✅ 从 PDF 文档提取
- ✅ 搜索和筛选
- ✅ 节点展开/折叠
- ✅ 导出 SVG、PDF、JSON

**成功标准**:
- 平均探索节点数提升到 5+
- 40%+ 用户使用 AI 建议功能
- 文档提取准确率 > 85%

---

### Phase 3: 协作与分享 (4 周) - 社交化

**目标**: 知识图谱可以分享和协作，增强传播

**新增功能**:
- ✅ 分享链接（只读模式）
- ✅ 嵌入代码（Embed）
- ✅ 版本历史和回滚
- ✅ 评论功能（在节点上留言）
- ⏳ 多人协作编辑（Future）

**成功标准**:
- 30%+ 用户分享过图谱
- 分享的图谱平均被查看 5+ 次
- 用户通过分享带来新用户转化率 > 5%

---

### Phase 4: 高级功能 (持续迭代)

**未来可能的方向**:

1. **跨主题关联**
   - 发现不同主题图谱之间的联系
   - 自动建议合并或关联

2. **知识图谱问答**
   - 基于图谱结构的智能问答
   - "Transformer 和 BERT 之间有什么关系？"
   - 系统高亮路径并解释

3. **学习路径生成**
   - 基于图谱自动生成学习计划
   - 类似"游戏技能树"

4. **知识图谱模板**
   - 预置常见领域的图谱模板
   - 如"机器学习入门""量子计算基础"

5. **3D 可视化**
   - 三维空间展示更复杂的关系
   - 适合超过 200 个节点的大型图谱

---

## 🎯 五、验收标准

### 功能完成度

| 功能模块 | 必须有 (Must Have) | 应该有 (Should Have) | 可以有 (Could Have) |
|---------|-------------------|---------------------|-------------------|
| **自动构建** | 从对话提取 | 从PDF提取 | 从网页提取 |
| **可视化** | 力导向图 | 多种布局 | 3D可视化 |
| **交互** | 缩放/拖拽/点击 | 搜索/筛选/聚焦 | 路径查找/动画播放 |
| **智能** | 节点解释 | 探索建议 | 学习路径推荐 |
| **编辑** | 添加节点/关系 | 批量操作 | 撤销/重做 |
| **分享** | 导出PNG | 分享链接 | 多人协作 |

### 性能指标

| 指标 | 目标值 |
|------|-------|
| 初始加载时间 | < 2 秒 |
| 节点渲染 (50个) | < 1 秒 |
| 节点渲染 (200个) | < 3 秒 |
| 交互响应时间 | < 100ms |
| 自动提取时间 | < 5 秒/页 |

### 体验质量

- **视觉**: 美观、专业、符合品牌调性
- **流畅**: 动画 60fps，无卡顿
- **易用**: 新用户 < 2 分钟上手
- **稳定**: 崩溃率 < 0.1%

---

## 💭 六、风险与挑战

### 技术风险

| 风险 | 影响 | 缓解方案 |
|------|------|---------|
| **AI 提取不准确** | 高 | 1. 使用 GPT-4 级别模型<br>2. 人工审核机制<br>3. 用户可手动修正 |
| **大图谱性能问题** | 中 | 1. 虚拟化渲染<br>2. 聚类显示<br>3. 分级加载 |
| **布局算法不理想** | 中 | 1. 提供多种布局选择<br>2. 允许手动调整<br>3. 记住用户偏好 |

### 产品风险

| 风险 | 影响 | 缓解方案 |
|------|------|---------|
| **用户不理解价值** | 高 | 1. 引导动画和教程<br>2. 提供示例图谱<br>3. 突出核心价值点 |
| **功能过于复杂** | 中 | 1. MVP 聚焦核心功能<br>2. 渐进式披露复杂功能<br>3. 用户测试验证 |
| **与主流程脱节** | 中 | 1. 深度集成对话界面<br>2. 实时同步更新<br>3. 快捷键快速切换 |

---

## 📊 七、度量与迭代

### 关键数据指标

**采用率指标**
- 知识图谱功能激活率（首次使用）
- 日活用户中使用图谱的占比
- 平均每周使用频次

**参与度指标**
- 平均探索节点数/会话
- 平均停留时间在图谱页面
- 节点展开率、搜索使用率

**质量指标**
- 图谱平均节点数/主题
- 用户手动编辑比例（反映自动提取质量）
- 分享率和分享图谱查看数

**商业指标**
- 使用图谱用户的留存率 vs 未使用
- 使用图谱用户的付费转化率 vs 未使用
- NPS 评分变化

### A/B 测试计划

**测试 1: 初始图谱展示**
- 对照组: 空白图谱，需用户对话后才构建
- 实验组: 基于主题自动生成初始图谱（5-10 个核心概念）
- 假设: 初始图谱能降低使用门槛，提升激活率

**测试 2: AI 建议样式**
- 对照组: 简单列表式建议
- 实验组: 卡片式建议 + 图标 + 一键触发
- 假设: 更好的视觉设计提升建议采纳率

**测试 3: 节点颜色方案**
- 对照组: 单一颜色（蓝色系）
- 实验组: 多彩分类（5 种颜色）
- 假设: 颜色编码提升认知效率

---

## 🙋 八、FAQ (常见问题)

**Q1: 这个功能和思维导图（MindMap）有什么区别？**

A: 核心区别：
1. **自动 vs 手动**: 我们 AI 自动提取，思维导图需要完全手工绘制
2. **网状 vs 树状**: 我们是网络结构（多对多），思维导图是树状（一对多）
3. **动态 vs 静态**: 我们随对话实时生长，思维导图需要手动更新
4. **智能引导**: 我们有 AI 探索建议，思维导图只是展示工具

**Q2: 如果 AI 提取的概念或关系不对怎么办？**

A: 
1. 用户可以随时手动编辑（修改、删除、添加）
2. 系统会学习用户的修正，提升准确率
3. 重要的是"80% 自动化 + 20% 人工调整"的平衡

**Q3: 大型图谱（200+ 节点）会不会很乱？**

A: 我们有多层解决方案：
1. 聚类显示：自动分组，点击展开
2. 筛选功能：按类型、重要性、时间筛选
3. 聚焦模式：只显示选中节点及其邻居
4. 搜索定位：快速找到目标概念

**Q4: 移动端体验会不会很差？**

A: 移动端会做适配：
1. 简化交互（手势为主）
2. 底部抽屉展示详情（不占画布空间）
3. 提供"列表视图"作为备选（类似大纲）

**Q5: 这个功能的开发成本高吗？**

A: MVP 阶段可控（4 周，1 前端 + 1 后端）：
- 使用成熟的 D3.js 库（不需要从零写渲染引擎）
- AI 提取复用现有 LLM（不需要训练新模型）
- 数据存储用 PostgreSQL JSONB（不需要引入图数据库）

---

## ✅ Review Checklist (请 Review 时检查)

### 产品定位
- [ ] 核心价值是否清晰？
- [ ] 与竞品的差异化是否明显？
- [ ] 目标用户是否精准？

### 功能设计
- [ ] MVP 范围是否合理（不过大也不过小）？
- [ ] 交互流程是否流畅自然？
- [ ] 是否有明显的使用门槛？

### 优先级
- [ ] Phase 1/2/3 的划分是否合理？
- [ ] 是否先做高价值低成本的功能？

### 可行性
- [ ] 技术实现是否有重大风险？
- [ ] 是否需要额外资源（人力/预算）？

### 数据驱动
- [ ] 成功指标是否可衡量？
- [ ] 是否有 A/B 测试计划？

---

## 📝 变更记录

| 版本 | 日期 | 变更内容 | 作者 |
|------|------|---------|------|
| v1.0 | 2025-11-11 | 初始版本 | AI PM |
| | | | |

---

**期待您的反馈！** 🙏

请重点 Review：
1. **功能范围是否合理**？是不是太复杂了？
2. **MVP 能否在 4 周完成**？
3. **用户价值是否足够吸引人**？
4. **有哪些我没考虑到的风险**？