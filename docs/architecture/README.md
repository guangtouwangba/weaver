# æ¶æ„æ–‡æ¡£ç´¢å¼•

æ¬¢è¿æ¥åˆ° Knowledge Platform æ¶æ„æ–‡æ¡£ä¸­å¿ƒï¼è¿™é‡ŒåŒ…å«äº†ç³»ç»Ÿè®¾è®¡çš„å„ä¸ªæ–¹é¢ã€‚

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### ğŸ—ï¸ æ ¸å¿ƒæ¶æ„

1. **[Generic RAG æ¶æ„è®¾è®¡](./generic_rag_architecture.md)** â­â­â­â­â­
   - RAG ç³»ç»Ÿçš„å®Œæ•´æ¶æ„è®¾è®¡
   - Query â†’ Response å…¨æµç¨‹
   - 6 ä¸ªæ ¸å¿ƒé˜¶æ®µè¯¦ç»†è¯´æ˜
   - æŸ¥è¯¢å¢å¼ºã€æ£€ç´¢ã€é‡æ’åºã€ç”Ÿæˆç­‰
   - æ¨èç›®å½•ç»“æ„å’ŒæŠ€æœ¯é€‰å‹

2. **[Polyglot Persistence å¤šå­˜å‚¨æ¶æ„](./polyglot-persistence.md)** â­â­â­â­â­
   - å¤šè¯­è¨€æŒä¹…åŒ–æ¶æ„è®¾è®¡
   - 6 ç§å­˜å‚¨ç³»ç»Ÿè¯¦ç»†è¯´æ˜
     - PostgreSQL (ACID äº‹åŠ¡)
     - Neo4j (çŸ¥è¯†å›¾è°±)
     - Weaviate/Qdrant (å‘é‡æ•°æ®åº“)
     - MongoDB (çµæ´»å…ƒæ•°æ®)
     - Redis (ç¼“å­˜å’Œé˜Ÿåˆ—)
     - S3/MinIO (å¯¹è±¡å­˜å‚¨)
   - æ•°æ®æµè®¾è®¡å’Œä¸€è‡´æ€§ç­–ç•¥
   - **è§£å†³çŸ¥è¯†å­¤å²›é—®é¢˜** ğŸŒŸ

3. **[ä¾èµ–å…³ç³»å›¾](./dependency_graph.md)**
   - ç»„ä»¶ä¾èµ–å…³ç³»
   - Mermaid å¯è§†åŒ–å›¾è¡¨

### ğŸ“‹ å®æ–½è®¡åˆ’

4. **[å®æ–½è·¯çº¿å›¾ (ROADMAP)](./ROADMAP.md)** â­â­â­â­â­
   - 7 ä¸ªå®æ–½é˜¶æ®µè¯¦ç»†è®¡åˆ’
   - æ¯ä¸ªé˜¶æ®µçš„ä»»åŠ¡æ¸…å•
   - ä¼˜å…ˆçº§å’Œå·¥ä½œé‡ä¼°ç®—
   - éªŒæ”¶æ ‡å‡†å’Œ KPI
   - MVP å¿«é€Ÿè·¯å¾„ï¼ˆ4 å‘¨ï¼‰
   - å®Œæ•´è·¯çº¿å›¾ï¼ˆ8-9 å‘¨ï¼‰

### ğŸ¯ æ¶æ„å†³ç­–è®°å½• (ADR)

5. **[ADR ç›®å½•](./decisions/)**
   - é‡è¦æ¶æ„å†³ç­–çš„è®°å½•
   - æ¯ä¸ªå†³ç­–çš„èƒŒæ™¯ã€é€‰é¡¹ã€ç»“æœ

---

## ğŸ—ºï¸ é˜…è¯»é¡ºåºå»ºè®®

### å¯¹äºæ–°æˆå‘˜

```
1. Generic RAG æ¶æ„ (äº†è§£ç³»ç»Ÿæ•´ä½“è®¾è®¡)
   â†“
2. Polyglot Persistence (ç†è§£æ•°æ®å­˜å‚¨ç­–ç•¥)
   â†“
3. ROADMAP (äº†è§£å®æ–½è®¡åˆ’)
   â†“
4. ä¾èµ–å…³ç³»å›¾ (ç†è§£æ¨¡å—å…³ç³»)
```

### å¯¹äºå¼€å‘äººå‘˜

```
1. Generic RAG æ¶æ„ â†’ äº†è§£è¦å®ç°ä»€ä¹ˆ
   â†“
2. æ¨èç›®å½•ç»“æ„ â†’ çŸ¥é“ä»£ç æ”¾åœ¨å“ªé‡Œ
   â†“
3. Polyglot Persistence â†’ ç†è§£æ•°æ®å¦‚ä½•å­˜å‚¨
   â†“
4. ROADMAP çš„è¯¦ç»†å®æ–½è®¡åˆ’ â†’ å¼€å§‹ç¼–ç 
```

### å¯¹äºæ¶æ„å¸ˆ

```
1. å…¨éƒ¨æ¶æ„æ–‡æ¡£
   â†“
2. å…³é”®è®¾è®¡å†³ç­–
   â†“
3. æŠ€æœ¯é€‰å‹å¯¹æ¯”
   â†“
4. ADR å†³ç­–è®°å½•
```

---

## ğŸ“Š æ¶æ„æ¦‚è§ˆ

### ç³»ç»Ÿåˆ†å±‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API Layer (FastAPI)                      â”‚
â”‚  - REST endpoints                                           â”‚
â”‚  - Streaming support (SSE)                                  â”‚
â”‚  - WebSocket for real-time                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Orchestration Layer (LangGraph)                â”‚
â”‚  - Query routing (æ™ºèƒ½è·¯ç”±)                                  â”‚
â”‚  - Workflow management                                       â”‚
â”‚  - Human-in-the-loop                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Core RAG Components                          â”‚
â”‚  - Retriever (pluggable)         - Memory (conversation)   â”‚
â”‚  - Query Transformer             - Reranker (optional)      â”‚
â”‚  - Generator (LLM)               - Cache Manager            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Storage Layer (Polyglot Persistence)              â”‚
â”‚  - PostgreSQL  - Neo4j  - Weaviate                          â”‚
â”‚  - MongoDB     - Redis  - S3/MinIO                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§ | è¯´æ˜ | æ–‡æ¡£ |
|------|------|------|
| **æ™ºèƒ½è·¯ç”±** | æ ¹æ®æŸ¥è¯¢ç±»å‹é€‰æ‹©æœ€ä½³ pipeline | [Generic RAG](./generic_rag_architecture.md#3-æ™ºèƒ½è·¯ç”±-routing-layer) |
| **æ··åˆæ£€ç´¢** | å‘é‡ + BM25 + é‡æ’åº | [Generic RAG](./generic_rag_architecture.md#5-æ£€ç´¢å±‚-retrieval-layer) |
| **çŸ¥è¯†å›¾è°±** | å®ä½“å…³ç³»ã€çŸ¥è¯†æ¨ç† | [Polyglot Persistence](./polyglot-persistence.md#2-neo4j---çŸ¥è¯†å›¾è°±æ•°æ®åº“) |
| **å¯¹è¯è®°å¿†** | å¤šè½®å¯¹è¯æ”¯æŒ | [Generic RAG](./generic_rag_architecture.md#9-å¯¹è¯å¼-rag-åˆ†æ”¯) |
| **è‡ªæˆ‘çº æ­£** | å¹»è§‰æ£€æµ‹å’Œç­”æ¡ˆéªŒè¯ | [Generic RAG](./generic_rag_architecture.md#7-ç”Ÿæˆå±‚-generation-layer) |
| **æµå¼è¾“å‡º** | å®æ—¶å“åº” | [Generic RAG](./generic_rag_architecture.md#7-ç”Ÿæˆå±‚-generation-layer) |
| **å¤šå­˜å‚¨** | é’ˆå¯¹ä¸åŒæ•°æ®é€‰æ‹©æœ€ä½³å­˜å‚¨ | [Polyglot Persistence](./polyglot-persistence.md) |

---

## ğŸ¯ å…³é”®è®¾è®¡å†³ç­–

### 1. ä¸ºä»€ä¹ˆä½¿ç”¨ LangGraphï¼Ÿ

âœ… **å¯è§†åŒ–å·¥ä½œæµ**: æ¸…æ™°çš„ DAG ç»“æ„  
âœ… **çŠ¶æ€ç®¡ç†**: å†…ç½®çŠ¶æ€ä¼ é€’  
âœ… **æ¡ä»¶åˆ†æ”¯**: æ”¯æŒå¤æ‚çš„å†³ç­–é€»è¾‘  
âœ… **Human-in-the-loop**: å®¹æ˜“é›†æˆäººå·¥å®¡æ ¸  
âœ… **å¯è§‚æµ‹æ€§**: ä¸ LangSmith æ— ç¼é›†æˆ  

### 2. ä¸ºä»€ä¹ˆéœ€è¦å¤šå­˜å‚¨æ¶æ„ï¼Ÿ

âœ… **è§£å†³çŸ¥è¯†å­¤å²›** - Neo4j çŸ¥è¯†å›¾è°±è¿æ¥åˆ†æ•£çŸ¥è¯†  
âœ… **ä¿è¯ä¸€è‡´æ€§** - PostgreSQL ACID äº‹åŠ¡  
âœ… **æå‡æ€§èƒ½** - Redis ç¼“å­˜ + Weaviate å‘é‡æœç´¢  
âœ… **çµæ´»æ‰©å±•** - MongoDB çµæ´»çš„ Schema  

å‚è§ï¼š[Polyglot Persistence](./polyglot-persistence.md#å…³é”®è®¾è®¡å†³ç­–)

### 3. æŠ€æœ¯é€‰å‹å¯¹æ¯”

è¯¦è§ï¼š
- [Generic RAG - å…³é”®æŠ€æœ¯é€‰å‹](./generic_rag_architecture.md#å…³é”®æŠ€æœ¯é€‰å‹)
- [Polyglot Persistence - å­˜å‚¨é€‰å‹å¯¹æ¯”](./polyglot-persistence.md#å­˜å‚¨é€‰å‹å¯¹æ¯”)

---

## ğŸ“ˆ å®æ–½è¿›åº¦

| Phase | çŠ¶æ€ | æ–‡æ¡£é“¾æ¥ |
|-------|------|---------|
| **Phase 1**: æ ¸å¿ƒåŸºç¡€è®¾æ–½ | ğŸ”´ å¾…å¼€å§‹ | [ROADMAP](./ROADMAP.md#phase-1-æ ¸å¿ƒåŸºç¡€è®¾æ–½-week-1-2) |
| **Phase 2**: å¢å¼ºæ£€ç´¢èƒ½åŠ› | ğŸ”´ å¾…å¼€å§‹ | [ROADMAP](./ROADMAP.md#phase-2-å¢å¼ºæ£€ç´¢èƒ½åŠ›-week-3-4) |
| **Phase 3**: æŸ¥è¯¢ç†è§£ä¸è·¯ç”± | ğŸ”´ å¾…å¼€å§‹ | [ROADMAP](./ROADMAP.md#phase-3-æŸ¥è¯¢ç†è§£ä¸è·¯ç”±-week-5) |
| **Phase 4**: ç”Ÿæˆå¢å¼ºä¸éªŒè¯ | ğŸ”´ å¾…å¼€å§‹ | [ROADMAP](./ROADMAP.md#phase-4-ç”Ÿæˆå¢å¼ºä¸éªŒè¯-week-6) |
| **Phase 5**: å¯¹è¯ä¸è®°å¿† | ğŸ”´ å¾…å¼€å§‹ | [ROADMAP](./ROADMAP.md#phase-5-å¯¹è¯ä¸è®°å¿†-week-7) |
| **Phase 6**: å¯è§‚æµ‹æ€§ä¸ç”Ÿäº§åŒ– | ğŸ”´ å¾…å¼€å§‹ | [ROADMAP](./ROADMAP.md#phase-6-å¯è§‚æµ‹æ€§ä¸ç”Ÿäº§åŒ–-week-8-9) |

**æ€»è®¡**: 8-9 å‘¨è¾¾åˆ°ç”Ÿäº§çº§åˆ«

---

## ğŸ”— ç›¸å…³èµ„æº

### å¤–éƒ¨å‚è€ƒ

- [LangChain æ–‡æ¡£](https://python.langchain.com/)
- [LangGraph æ–‡æ¡£](https://langchain-ai.github.io/langgraph/)
- [LangSmith æ–‡æ¡£](https://docs.smith.langchain.com/)
- [Neo4j æ–‡æ¡£](https://neo4j.com/docs/)
- [Weaviate æ–‡æ¡£](https://weaviate.io/developers/weaviate)

### å†…éƒ¨é“¾æ¥

- [åŠŸèƒ½è§„æ ¼è¯´æ˜](../functional_spec.md)
- [å¼€å‘æŒ‡å—](../development/)
- [API æ–‡æ¡£](../api/)
- [éƒ¨ç½²æ–‡æ¡£](../deployment/)

---

## ğŸ“ å¦‚ä½•è´¡çŒ®

å¦‚æœä½ è¦æ·»åŠ æ–°çš„æ¶æ„æ–‡æ¡£ï¼š

1. åœ¨ `docs/architecture/` ç›®å½•ä¸‹åˆ›å»ºæ–°æ–‡ä»¶
2. ä½¿ç”¨ Markdown æ ¼å¼
3. æ·»åŠ  Mermaid å›¾è¡¨ï¼ˆå¦‚éœ€è¦ï¼‰
4. æ›´æ–°æœ¬ README çš„ç´¢å¼•
5. æäº¤ PR

### æ¶æ„å†³ç­–è®°å½• (ADR)

å¯¹äºé‡è¦çš„æ¶æ„å†³ç­–ï¼Œè¯·åˆ›å»º ADRï¼š

```bash
# åˆ›å»ºæ–° ADR
cp decisions/template.md decisions/XXX-your-decision-title.md
# ç¼–è¾‘æ–‡ä»¶ï¼Œå¡«å†™å†…å®¹
# æ›´æ–° decisions/README.md ç´¢å¼•
```

---

## ğŸ†˜ éœ€è¦å¸®åŠ©ï¼Ÿ

- ğŸ“– é˜…è¯»ç›¸å…³æ¶æ„æ–‡æ¡£
- ğŸ’¬ åœ¨å›¢é˜Ÿ Slack é¢‘é“æé—®
- ğŸ› æäº¤ Issue
- ğŸ“§ è”ç³»æ¶æ„å¸ˆ

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2025-10-22  
**ç»´æŠ¤è€…**: Research Agent Team

