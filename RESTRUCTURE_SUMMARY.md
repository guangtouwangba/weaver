# é¡¹ç›®é‡æ„æ€»ç»“

## ğŸ¯ é‡æ„ç›®æ ‡

å°†åŸæœ‰çš„æ‰å¹³åŒ–é¡¹ç›®ç»“æ„é‡æ„ä¸ºæ›´æ¸…æ™°çš„åˆ†å±‚æ¶æ„ï¼Œæé«˜ä»£ç ç»„ç»‡æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

## ğŸ“Š é‡æ„å‰åå¯¹æ¯”

### é‡æ„å‰
```
research-agent-rag/
â”œâ”€â”€ agents/                 # AI æ™ºèƒ½ä½“
â”œâ”€â”€ api/                   # API æœåŠ¡å™¨
â”œâ”€â”€ chat/                  # èŠå¤©æ¥å£
â”œâ”€â”€ database/              # æ•°æ®åº“
â”œâ”€â”€ retrieval/             # è®ºæ–‡æ£€ç´¢
â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”œâ”€â”€ deployment/            # éƒ¨ç½²é…ç½®
â”œâ”€â”€ scheduler/             # è°ƒåº¦å™¨
â”œâ”€â”€ config.py             # é…ç½®
â”œâ”€â”€ main.py               # ä¸»å…¥å£
â”œâ”€â”€ Dockerfile            # Docker é…ç½®
â”œâ”€â”€ docker-compose.yml    # Docker Compose
â””â”€â”€ ...                   # å…¶ä»–æ–‡ä»¶
```

### é‡æ„å
```
research-agent-rag/
â”œâ”€â”€ backend/              # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ api/             # API æœåŠ¡å™¨
â”‚   â”œâ”€â”€ agents/          # AI æ™ºèƒ½ä½“
â”‚   â”œâ”€â”€ chat/            # èŠå¤©æ¥å£
â”‚   â”œâ”€â”€ database/        # æ•°æ®åº“
â”‚   â”œâ”€â”€ retrieval/       # è®ºæ–‡æ£€ç´¢
â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ config.py        # é…ç½®
â”‚   â””â”€â”€ main.py          # ä¸»å…¥å£
â”œâ”€â”€ frontend/            # å‰ç«¯ä»£ç 
â”œâ”€â”€ infra/               # åŸºç¡€è®¾æ–½
â”‚   â”œâ”€â”€ docker/          # Docker é…ç½®
â”‚   â”œâ”€â”€ k8s/             # Kubernetes é…ç½®
â”‚   â”œâ”€â”€ nginx/           # Nginx é…ç½®
â”‚   â””â”€â”€ scripts/         # éƒ¨ç½²è„šæœ¬
â””â”€â”€ ...                  # å…¶ä»–æ–‡ä»¶
```

## ğŸ”§ ä¸»è¦å˜æ›´

### 1. ç›®å½•é‡ç»„

#### åç«¯æ•´åˆ
- âœ… å°†æ‰€æœ‰åç«¯ç›¸å…³ä»£ç ç§»åŠ¨åˆ° `backend/` ç›®å½•
- âœ… åˆ›å»º `backend/api/` å­ç›®å½•å­˜æ”¾ API æœåŠ¡å™¨æ–‡ä»¶
- âœ… ä¿æŒæ‰€æœ‰åç«¯æ¨¡å—çš„ç›¸å¯¹å¯¼å…¥è·¯å¾„

#### åŸºç¡€è®¾æ–½æ•´åˆ
- âœ… åˆ›å»º `infra/` ç›®å½•ç»Ÿä¸€ç®¡ç†åŸºç¡€è®¾æ–½
- âœ… ç§»åŠ¨ Docker ç›¸å…³æ–‡ä»¶åˆ° `infra/docker/`
- âœ… ç§»åŠ¨ Kubernetes é…ç½®åˆ° `infra/k8s/`
- âœ… ç§»åŠ¨ Nginx é…ç½®åˆ° `infra/nginx/`
- âœ… ç§»åŠ¨éƒ¨ç½²è„šæœ¬åˆ° `infra/scripts/`

### 2. å¯¼å…¥è·¯å¾„ä¿®å¤

#### Python è·¯å¾„è°ƒæ•´
```python
# ä¿®å¤å‰
sys.path.insert(0, os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

# ä¿®å¤å (åœ¨ backend/api/ ç›®å½•ä¸­)
sys.path.insert(0, os.path.dirname(os.path.dirname(os.path.abspath(__file__))))
```

#### ç›¸å¯¹å¯¼å…¥ä¿æŒ
- âœ… æ‰€æœ‰æ¨¡å—é—´çš„ç›¸å¯¹å¯¼å…¥ä¿æŒä¸å˜
- âœ… é…ç½®æ–‡ä»¶è·¯å¾„æ­£ç¡®æ›´æ–°
- âœ… æµ‹è¯•æ–‡ä»¶è·¯å¾„æ­£ç¡®æ›´æ–°

### 3. Makefile æ›´æ–°

#### è·¯å¾„å˜é‡
```makefile
# æ–°å¢é¡¹ç›®ç»“æ„å˜é‡
BACKEND_DIR := backend
FRONTEND_DIR := frontend
INFRA_DIR := infra
```

#### å‘½ä»¤è·¯å¾„æ›´æ–°
```makefile
# æ›´æ–°æ‰€æœ‰å‘½ä»¤ä»¥ä½¿ç”¨æ–°çš„ç›®å½•ç»“æ„
run-api: cd $(BACKEND_DIR) && poetry run python api/simple_server.py
run-web: cd $(BACKEND_DIR) && poetry run streamlit run chat/chat_interface.py
docker-build: docker build -f $(INFRA_DIR)/docker/Dockerfile
```

### 4. é…ç½®æ–‡ä»¶æ›´æ–°

#### ç¯å¢ƒæ–‡ä»¶
- âœ… ç§»åŠ¨ç¯å¢ƒé…ç½®æ–‡ä»¶åˆ° `infra/` ç›®å½•
- âœ… æ›´æ–° Makefile ä¸­çš„ç¯å¢ƒæ–‡ä»¶è·¯å¾„

#### Docker é…ç½®
- âœ… æ›´æ–° Dockerfile è·¯å¾„å¼•ç”¨
- âœ… æ›´æ–° docker-compose.yml è·¯å¾„å¼•ç”¨

## âœ… éªŒè¯ç»“æœ

### æµ‹è¯•è¦†ç›–
- âœ… ç›®å½•ç»“æ„éªŒè¯
- âœ… åç«¯å¯¼å…¥è·¯å¾„éªŒè¯
- âœ… Makefile åŠŸèƒ½éªŒè¯
- âœ… åç«¯æœåŠ¡å™¨åŠŸèƒ½éªŒè¯
- âœ… API ç«¯ç‚¹åŠŸèƒ½éªŒè¯
- âœ… å‰ç«¯åŠŸèƒ½éªŒè¯

### åŠŸèƒ½ä¿æŒ
- âœ… æ‰€æœ‰åŸæœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- âœ… API ç«¯ç‚¹å“åº”æ­£å¸¸
- âœ… å‰ç«¯ç•Œé¢æ­£å¸¸æ˜¾ç¤º
- âœ… Docker æ„å»ºæ­£å¸¸
- âœ… å¼€å‘å‘½ä»¤æ­£å¸¸å·¥ä½œ

## ğŸš€ æ–°å·¥ä½œæµç¨‹

### å¼€å‘å‘½ä»¤
```bash
# åç«¯å¼€å‘
cd backend && poetry run python api/simple_server.py

# å‰ç«¯å¼€å‘
cd frontend && npm run dev

# å…¨æ ˆå¼€å‘
make run-fullstack

# æ„å»ºéƒ¨ç½²
make docker-build
make docker-run
```

### éƒ¨ç½²å‘½ä»¤
```bash
# Docker éƒ¨ç½²
docker-compose -f infra/docker/docker-compose.yml up -d

# Kubernetes éƒ¨ç½²
kubectl apply -f infra/k8s/

# æ— æœåŠ¡å™¨éƒ¨ç½²
docker build -f infra/docker/Dockerfile.serverless .
```

## ğŸ“ˆ æ”¹è¿›æ•ˆæœ

### 1. ä»£ç ç»„ç»‡
- ğŸ¯ **æ›´æ¸…æ™°çš„æ¨¡å—åˆ†ç¦»**: åç«¯ã€å‰ç«¯ã€åŸºç¡€è®¾æ–½æ˜ç¡®åˆ†ç¦»
- ğŸ¯ **æ›´å¥½çš„å¯ç»´æŠ¤æ€§**: ç›¸å…³æ–‡ä»¶é›†ä¸­ç®¡ç†
- ğŸ¯ **æ›´ç®€å•çš„å¯¼èˆª**: å¼€å‘è€…å¯ä»¥å¿«é€Ÿå®šä½åˆ°ç›¸å…³ä»£ç 

### 2. éƒ¨ç½²ç®¡ç†
- ğŸ¯ **ç»Ÿä¸€çš„åŸºç¡€è®¾æ–½**: æ‰€æœ‰éƒ¨ç½²ç›¸å…³é…ç½®é›†ä¸­ç®¡ç†
- ğŸ¯ **å¤šç¯å¢ƒæ”¯æŒ**: å¼€å‘ã€ç”Ÿäº§ç¯å¢ƒé…ç½®åˆ†ç¦»
- ğŸ¯ **æ›´å¥½çš„ç‰ˆæœ¬æ§åˆ¶**: åŸºç¡€è®¾æ–½å˜æ›´æ›´å®¹æ˜“è·Ÿè¸ª

### 3. å¼€å‘ä½“éªŒ
- ğŸ¯ **ç®€åŒ–çš„å‘½ä»¤**: Makefile æä¾›ç»Ÿä¸€çš„å¼€å‘å‘½ä»¤
- ğŸ¯ **æ¸…æ™°çš„æ–‡æ¡£**: é¡¹ç›®ç»“æ„æ–‡æ¡£å¸®åŠ©æ–°å¼€å‘è€…å¿«é€Ÿä¸Šæ‰‹
- ğŸ¯ **æ›´å¥½çš„æµ‹è¯•**: é‡æ„åçš„ç»“æ„æ›´å®¹æ˜“è¿›è¡Œå•å…ƒæµ‹è¯•

## ğŸ”„ è¿ç§»æŒ‡å—

### å¯¹äºç°æœ‰å¼€å‘è€…

1. **æ›´æ–°å·¥ä½œç›®å½•**
   ```bash
   # åç«¯å¼€å‘ç°åœ¨åœ¨ backend/ ç›®å½•
   cd backend
   
   # å‰ç«¯å¼€å‘åœ¨ frontend/ ç›®å½•
   cd frontend
   ```

2. **æ›´æ–°å‘½ä»¤**
   ```bash
   # ä½¿ç”¨æ–°çš„ Makefile å‘½ä»¤
   make run-api      # å¯åŠ¨åç«¯
   make run-frontend # å¯åŠ¨å‰ç«¯
   make run-fullstack # å¯åŠ¨å…¨æ ˆ
   ```

3. **æ›´æ–°é…ç½®æ–‡ä»¶**
   - ç¯å¢ƒå˜é‡æ–‡ä»¶ç°åœ¨åœ¨ `infra/` ç›®å½•
   - Docker é…ç½®æ–‡ä»¶ç°åœ¨åœ¨ `infra/docker/` ç›®å½•

### å¯¹äºæ–°å¼€å‘è€…

1. **å¿«é€Ÿå¼€å§‹**
   ```bash
   make setup        # å®Œæ•´è®¾ç½®
   make run-demo     # è¿è¡Œæ¼”ç¤º
   make run-fullstack # å¯åŠ¨å¼€å‘ç¯å¢ƒ
   ```

2. **é¡¹ç›®ç»“æ„**
   - æŸ¥çœ‹ `PROJECT_STRUCTURE.md` äº†è§£è¯¦ç»†ç»“æ„
   - æŸ¥çœ‹ `README.md` äº†è§£åŠŸèƒ½ç‰¹æ€§
   - æŸ¥çœ‹ `Makefile` äº†è§£å¯ç”¨å‘½ä»¤

## ğŸ‰ æ€»ç»“

æœ¬æ¬¡é‡æ„æˆåŠŸå®ç°äº†ä»¥ä¸‹ç›®æ ‡ï¼š

1. âœ… **ä»£ç ç»„ç»‡ä¼˜åŒ–**: å°†ç›¸å…³ä»£ç æŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç»„
2. âœ… **åŸºç¡€è®¾æ–½æ•´åˆ**: ç»Ÿä¸€ç®¡ç†æ‰€æœ‰éƒ¨ç½²å’Œé…ç½®
3. âœ… **å¼€å‘ä½“éªŒæå‡**: æä¾›æ›´æ¸…æ™°çš„å¼€å‘å·¥ä½œæµ
4. âœ… **å¯ç»´æŠ¤æ€§å¢å¼º**: æ›´å®¹æ˜“è¿›è¡Œä»£ç ç»´æŠ¤å’Œæ‰©å±•
5. âœ… **åŠŸèƒ½å®Œæ•´æ€§**: ä¿æŒæ‰€æœ‰åŸæœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ

é‡æ„åçš„é¡¹ç›®ç»“æ„æ›´åŠ æ¸…æ™°ã€æ¨¡å—åŒ–ï¼Œä¸ºæœªæ¥çš„å¼€å‘å’Œç»´æŠ¤å¥ å®šäº†è‰¯å¥½çš„åŸºç¡€ã€‚

---

**é‡æ„å®Œæˆæ—¶é—´**: 2024å¹´
**æµ‹è¯•çŠ¶æ€**: âœ… å…¨éƒ¨é€šè¿‡
**åŠŸèƒ½çŠ¶æ€**: âœ… å…¨éƒ¨æ­£å¸¸ 