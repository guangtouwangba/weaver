# ========================================
# Application Settings
# ========================================
APP_ENV=development

# Vector store persistence
# Path where FAISS indices will be saved
VECTOR_STORE_PATH=./data/vector_store

# ========================================
# LLM Provider Configuration
# ========================================
# Choose LLM provider: "fake", "openai", or "openrouter"
LLM_PROVIDER=fake
LLM_MODEL=openai/gpt-3.5-turbo

# Generation parameters
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2000  # 建议值: 简短回答=500, 标准=2000, 详细=4096
LLM_TOP_P=1.0
LLM_FREQUENCY_PENALTY=0.0
LLM_PRESENCE_PENALTY=0.0
LLM_N=1
LLM_STREAM=false

# Reliability
LLM_TIMEOUT=60.0
LLM_MAX_RETRIES=3

# ========================================
# Embedding Provider Configuration
# ========================================
# Choose embedding provider: "fake", "openai", or "openrouter"
EMBEDDING_PROVIDER=fake

# Embedding model name (provider-specific)
EMBEDDING_MODEL=openai/text-embedding-3-small

# Optional: Specify embedding dimensions (if supported by model)
# EMBEDDING_DIMENSIONS=1536

# For testing/development (when EMBEDDING_PROVIDER=fake)
FAKE_EMBEDDING_SIZE=768

# Embedding parameters
# EMBEDDING_ENCODING_FORMAT=float
# EMBEDDING_TIMEOUT=60.0
# EMBEDDING_MAX_RETRIES=3

# ========================================
# Retriever Configuration
# ========================================
VECTOR_TOP_K=4
RETRIEVER_SEARCH_TYPE=similarity
RETRIEVER_SIMILARITY_THRESHOLD=0.7
# RETRIEVER_LAMBDA_MULT=0.5  # For MMR diversity

# ========================================
# Database Configuration
# ========================================
# PostgreSQL connection URL
# Format: postgresql://[user]:[password]@[host]:[port]/[database]
DATABASE_URL=postgresql://postgres:password@localhost:5432/knowledge_platform

# Connection pool settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
# DB_ECHO=false  # Set to true to log all SQL queries (development only)

# ========================================
# OpenAI Configuration
# ========================================
# Uncomment and set these when EMBEDDING_PROVIDER=openai
# OPENAI_API_KEY=sk-your-openai-api-key-here
# OPENAI_BASE_URL=https://api.openai.com/v1

# ========================================
# OpenRouter Configuration
# ========================================
# Uncomment and set these when EMBEDDING_PROVIDER=openrouter
# Get your API key from: https://openrouter.ai/keys
# OPENROUTER_API_KEY=sk-or-v1-your-openrouter-api-key-here

# Optional: For OpenRouter rankings (recommended)
# OPENROUTER_SITE_URL=https://yoursite.com
# OPENROUTER_SITE_NAME=Your App Name

# ========================================
# Example Configurations
# ========================================

# --- Example 1: Development (Fake Providers) ---
# LLM_PROVIDER=fake
# EMBEDDING_PROVIDER=fake
# FAKE_EMBEDDING_SIZE=768

# --- Example 2: OpenAI (LLM + Embeddings) ---
# LLM_PROVIDER=openai
# LLM_MODEL=gpt-4o
# EMBEDDING_PROVIDER=openai
# EMBEDDING_MODEL=openai/text-embedding-3-small
# OPENAI_API_KEY=sk-your-key-here

# --- Example 3: OpenRouter with GPT-3.5 + Google Gemini Embeddings ---
# LLM_PROVIDER=openrouter
# LLM_MODEL=openai/gpt-3.5-turbo
# EMBEDDING_PROVIDER=openrouter
# EMBEDDING_MODEL=google/gemini-embedding-001
# OPENROUTER_API_KEY=sk-or-v1-your-key-here
# OPENROUTER_SITE_URL=https://yoursite.com
# OPENROUTER_SITE_NAME=Your App

# --- Example 4: OpenRouter with Claude + OpenAI Embeddings ---
# LLM_PROVIDER=openrouter
# LLM_MODEL=anthropic/claude-3-sonnet
# LLM_TEMPERATURE=0.5
# EMBEDDING_PROVIDER=openrouter
# EMBEDDING_MODEL=openai/text-embedding-3-small
# EMBEDDING_DIMENSIONS=1536
# OPENROUTER_API_KEY=sk-or-v1-your-key-here

